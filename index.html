<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Input Data Guru</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
    font-family: Arial;
    background:#f5f5f5;
    padding:40px;
}
.container{
    background:white;
    padding:20px;
    max-width:400px;
    margin:auto;
    border-radius:10px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
}
input,select,button{
    width:100%;
    padding:10px;
    margin-top:10px;
}
button{
    background:#007bff;
    color:white;
    border:none;
}
</style>
</head>

<body>

<div class="container">
<h2>Input Data Guru</h2>

<form id="formGuru">
<input type="text" id="NBM" placeholder="NBM" required>
<input type="text" id="Nama" placeholder="Nama" required>
<input type="date" id="Tanggal_Lahir" required>
<input type="text" id="Tempat_lahir" placeholder="Tempat Lahir" required>

<select id="Jenis_kelamin">
<option value="Laki-laki">Laki-laki</option>
<option value="Perempuan">Perempuan</option>
</select>

<input type="text" id="Alamat" placeholder="Alamat">
<input type="text" id="No_Hp" placeholder="No HP">

<button type="submit">Simpan</button>
</form>

<p id="status"></p>
</div>

<script>
const supabaseUrl = "https://dqeynzdutfktbjksfsab.supabase.co";
const supabaseKey = "sb_publishable_MFultaJlDR_FAnnyxRzMgA_KaKHW8fe";

const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

document.getElementById("formGuru").addEventListener("submit", async(e)=>{
    e.preventDefault();

    const data = {
        NBM: document.getElementById("NBM").value,
        Nama: document.getElementById("Nama").value,
        Tanggal_Lahir: document.getElementById("Tanggal_Lahir").value,
        Tempat_lahir: document.getElementById("Tempat_lahir").value,
        Jenis_kelamin: document.getElementById("Jenis_kelamin").value,
        Alamat: document.getElementById("Alamat").value,
        No_Hp: document.getElementById("No_Hp").value
    };

    const { error } = await supabaseClient
        .from("Guru")
        .insert([data]);

    if(error){
        document.getElementById("status").innerText="❌ Gagal simpan data";
        console.log(error);
    }else{
        document.getElementById("status").innerText="✅ Data berhasil disimpan";
        document.getElementById("formGuru").reset();
    }
});
</script>

</body>
</html>
